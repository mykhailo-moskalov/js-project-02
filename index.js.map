{"version":3,"file":"index.js","sources":["../src/js/navbar.js","../src/js/furniture.js","../src/js/order.js","../src/js/faq.js","../src/js/loader.js","../src/js/feedback.js","../src/js/button-blur.js","../src/js/popular.js"],"sourcesContent":["window.addEventListener('DOMContentLoaded', () => {\n  const menu = document.querySelector('[data-mobile-menu]');\n  const openBtn = document.querySelector('[data-mobile-menu-open]');\n  const closeBtn = document.querySelector('[data-mobile-menu-close]');\n  const links = document.querySelectorAll('.mobile-menu__link');\n  const body = document.body;\n\n  if (!menu || !openBtn) return;\n\n  // Універсальний шлях до спрайта (працює локально і на GitHub Pages)\n  const autoSprite = new URL('img/sprite.svg', document.baseURI).pathname;\n  const SPRITE = (openBtn.dataset.sprite || autoSprite).trim();\n  const ICON_CLOSED = (openBtn.dataset.iconClosed || 'menu').trim();\n  const ICON_OPEN = (openBtn.dataset.iconOpen || 'x').trim();\n\n  const setBtnIcon = (id) => {\n    const use = openBtn.querySelector('use');\n    if (!use) return;\n    const url = `${SPRITE}#${id}`;\n    try { use.setAttribute('href', url); } catch (_) {}\n    try { use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', url); } catch (_) {}\n  };\n\n  const open = () => {\n    menu.classList.add('is-open');\n    menu.setAttribute('aria-hidden', 'false');\n    openBtn.setAttribute('aria-expanded', 'true');\n    body.classList.add('no-scroll');\n    setBtnIcon(ICON_OPEN);\n    openBtn.setAttribute('aria-label', 'Закрити меню');\n  };\n\n  const close = () => {\n    menu.classList.remove('is-open');\n    menu.setAttribute('aria-hidden', 'true');\n    openBtn.setAttribute('aria-expanded', 'false');\n    body.classList.remove('no-scroll');\n    setBtnIcon(ICON_CLOSED);\n    openBtn.setAttribute('aria-label', 'Відкрити меню');\n  };\n\n  openBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n    const expanded = openBtn.getAttribute('aria-expanded') === 'true';\n    expanded ? close() : open();\n  });\n\n  if (closeBtn) closeBtn.addEventListener('click', close);\n  links.forEach(a => a.addEventListener('click', close));\n  window.addEventListener('keydown', e => { if (e.key === 'Escape') close(); });\n\n  // Клік поза меню (тільки tablet 768–1439)\n  document.addEventListener('click', (e) => {\n    const w = window.innerWidth;\n    if (w >= 768 && w < 1440 && menu.classList.contains('is-open')) {\n      const clickInsideMenu = menu.contains(e.target);\n      const clickOnToggle = openBtn.contains(e.target) || (closeBtn && closeBtn.contains(e.target));\n      if (!clickInsideMenu && !clickOnToggle) close();\n    }\n  });\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport axios from 'axios';\n\n// --------------------------- Шаблоны -----------------------------------------\n\nconst templateCat = `<li class=\"furniture-item\" id=\"{idCat}\">\n  <div class=\"furniture-item-content\">\n    <h3 class=\"furniture-item-title\">{nameCat}</h3>\n  </div>\n  <img\n    srcset=\"\n      /public/img/webp/categories/category-{numCat}.webp        1x,\n      /public/img/webp/categories@2x/category-{numCat}@2x.webp 2x\n    \"\n    src=\"/public/img/webp/categories/category-{numCat}.webp\"\n    alt=\"{altCat}\"\n    class=\"furniture-item-image\"\n  />\n</li>`;\n\nconst template2 = `<li class=\"furniture-card\">\n  <img class=\"furniture-card-img\" src=\"{srcFrn}\" alt=\"{altFrn}\" />\n  <div class=\"furniture-card-propeties\">\n    <p class=\"furniture-card-name\">{nameFrn}</p>\n    <div class=\"furniture-card-colors\">{colorHtml}</div>\n    <p class=\"furniture-card-cost\">{priceFrn} грн</p>\n  </div>\n  <button id=\"{idFrn}\" class=\"furniture-card-button\">Детальніше</button>\n</li>`;\n\n// --------------------------- Запрос категорий ---------------------------------\nasync function getCategoriesByQuery(query, page, perPage) {\n  try {\n    const response = await axios.get('https://furniture-store.b.goit.study/api/categories', {});\n    return response.data;\n  } catch (error) {\n    return [];\n  }\n}\n\n// --------------------------- Запрос товаров ---------------------------------\nasync function getFurnitures(page = 1, categoryId = '', limit) {\n  try {\n    const params = {\n      page,\n      limit: limit,\n    };\n    if (categoryId && categoryId !== 'all-categories') {\n      params.category = categoryId;\n    }\n    const response = await axios.get('https://furniture-store.b.goit.study/api/furnitures', {\n      params,\n    });\n    return response.data;\n  } catch (error) {\n    return [];\n  }\n}\n\n// ------------------------------------ Рендер категорий -----------------------------------\nasync function createCategories(categories) {\n  // Добавляем первую категорию \"Всі товари\" с id=\"all-categories\"\n  const updatedCategories = [\n    { _id: 'all-categories', name: 'Всі товари' },\n    ...categories, // Остальные категории из промиса\n  ];\n\n  let counter = 1; // Счётчик для numCat, начиная с 1\n  const markup = updatedCategories\n    .map(item => {\n      let temp = templateCat\n        .replace('{idCat}', item._id)\n        .replace('{nameCat}', item.name)\n        .replace('{altCat}', item.name)\n        .replaceAll('{numCat}', counter); // Используем счётчик\n      counter++; // Увеличиваем счётчик для следующего элемента\n      return temp;\n    })\n    .join('');\n\n  const furnitureСategories = document.querySelector('.furniture-categories');\n\n  furnitureСategories.insertAdjacentHTML('beforeend', markup);\n\n  setBorder('all-categories');\n}\n\n// -------------------------------------- Запрос категорий ---------------------------------------\nasync function fetchCategories() {\n  try {\n    const data = await getCategoriesByQuery();\n\n    await createCategories(data); // Вызов рендера с полученными данными\n    return data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Не удалось загрузить категории. Попробуйте позже!',\n      position: 'topRight',\n    });\n    return [];\n  }\n}\n\n// --------------------------- Запуск лодыря -----------------------\nfunction showLoader() {\n  loader.style.display = 'inline-block';\n}\n\n// --------------------------- Останов лодыря -----------------------\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\n// ----------------------- Показать кнопку Load more ---------------------------\nfunction showLoadMoreButton() {\n  loadMore.style.display = 'block';\n}\n\n// ------------------------- Скрыть кнопку Load more ----------------------------------\nfunction hideLoadMoreButton() {\n  loadMore.style.display = 'none';\n}\n\n// ----------------------- Показать кнопку Load no ---------------------------\nfunction showLoadNoButton() {\n  loadNo.style.display = 'block';\n}\n\n// ------------------------- Скрыть кнопку Load no ----------------------------------\nfunction hideLoadNoButton() {\n  loadNo.style.display = 'none';\n}\n\n// -------------------------------------- Запрос мебели ---------------------------------------\nasync function fetchFurnitures(page, categoryId = '', limit, insert) {\n  try {\n    const data = await getFurnitures(page, categoryId, limit);\n    await createFurnitureCards(data.furnitures, insert);\n    return data;\n  } catch (error) {\n    hideLoadMoreButton();\n    iziToast.error({\n      title: 'Error',\n      message: 'Не удалось загрузить товары. Попробуйте позже!',\n      position: 'topRight',\n    });\n    return [];\n  }\n}\n\n// --------------------------- Рендер мебели --------------------------\nasync function createFurnitureCards(furnitures, insert) {\n  const markup2 = furnitures\n    .map(item => {\n      let colorHtml = '';\n      item.color.forEach(color => {\n        colorHtml += `<span class=\"furniture-card-color-chek\" style=\"display: inline-block; background-color: ${color};\"></span>`;\n      });\n      let temp2 = template2\n        .replace('{srcFrn}', item.images[0])\n        .replace('{nameFrn}', item.name)\n        .replace('{priceFrn}', item.price)\n        .replace('{idFrn}', item._id)\n        .replace('{altFrn}', item.description)\n        .replace('{colorHtml}', colorHtml);\n      return temp2;\n    })\n    .join('');\n\n  const furnitureCards = document.querySelector(insert);\n  furnitureCards.insertAdjacentHTML('beforeend', markup2);\n  showLoadMoreButton();\n}\n\n// --------------------------- Функция для управления бордюров -----------------------\nfunction setBorder(categoryId) {\n  // Сбрасываем бордюр у всех элементов .furniture-item-content\n  const allItems = document.querySelectorAll('.furniture-item-content');\n  allItems.forEach(item => {\n    item.style.border = '';\n    item.style.borderRadius = '';\n  });\n  // Устанавливаем бордюр для .furniture-item-content внутри указанного id\n  const currentItem = document.getElementById(categoryId).querySelector('.furniture-item-content');\n\n  currentItem.style.border = '8px solid #6b0609';\n  currentItem.style.borderRadius = '8px';\n}\n\n// ---------------------------- Тельце --------------------------------\n// Инициализация\nconst limit = 8;\nlet currentCategoryId = 'all-categories';\nlet currentPage = 1;\n\nconst loadMore = document.querySelector('.furniture-load-more');\nconst loadNo = document.querySelector('.furniture-load-no');\nconst loader = document.querySelector('.loader');\n\nhideLoadNoButton();\nhideLoadMoreButton();\nshowLoader();\nfetchCategories();\nfetchFurnitures(currentPage, currentCategoryId, limit, '.furniture-cards').then(data => {\n  const remainingItems = data.totalItems - currentPage * limit;\n  loadMore.textContent = `Показати ще ${limit} з ${remainingItems}`;\n  if (currentPage * limit >= data.totalItems) {\n    hideLoadMoreButton();\n    showLoadNoButton();\n  }\n  hideLoader();\n});\n\n// Работа\nconst furnitureCategories = document.querySelector('.furniture-categories');\n\n// Клик на категорию\nfurnitureCategories.addEventListener('click', event => {\n  hideLoadNoButton();\n  hideLoadMoreButton();\n  currentPage = 1;\n  currentCategoryId = event.target.closest('.furniture-item').getAttribute('id');\n  document.querySelector('.furniture-cards').innerHTML = '';\n  showLoader();\n  fetchFurnitures(currentPage, currentCategoryId, limit, '.furniture-cards').then(data => {\n    setBorder(currentCategoryId); // Установка бордюра после загрузки\n    const remainingItems = data.totalItems - currentPage * limit;\n    let show = limit <= remainingItems ? limit : remainingItems;\n    loadMore.textContent = `Показати ще ${show} з ${remainingItems}`;\n    if (currentPage * limit >= data.totalItems) {\n      hideLoadMoreButton();\n      showLoadNoButton();\n    }\n    hideLoader();\n  });\n});\n\n// Клик на Далее\nloadMore.addEventListener('click', () => {\n  hideLoadMoreButton();\n  showLoader();\n  currentPage++;\n  fetchFurnitures(currentPage, currentCategoryId, limit, '.furniture-cards').then(data => {\n    const remainingItems = data.totalItems - currentPage * limit;\n    let show = limit <= remainingItems ? limit : remainingItems;\n    loadMore.textContent = `Показати ще ${show} з ${remainingItems}`;\n    if (currentPage * limit >= data.totalItems) {\n      hideLoadMoreButton();\n      showLoadNoButton();\n    }\n    hideLoader();\n  });\n});\n","import IMask from 'imask';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_URL = 'https://furniture-store.b.goit.study/api/orders';\n\nconst orderModal = {\n  refs: {\n    openBtn: document.getElementById('test-open-modal'),\n    closeModalBtn: document.querySelector('[data-modal-close]'),\n    modal: document.querySelector('[data-modal]'),\n    form: document.getElementById('order-form'),\n    emailInput: document.getElementById('order-email'),\n    phoneInput: document.getElementById('order-phone'),\n    emailError: document.getElementById('email-error'),\n    phoneError: document.getElementById('phone-error'),\n    commentInput: document.getElementById('order-comment'),\n    commentError: document.getElementById('comment-error'),\n  },\n  modelId: '682f9bbf8acbdf505592ac36',\n  color: '#1212ca',\n\n  init() {\n    if (!this.checkElements()) {\n      console.error('Не всі необхідні елементи знайдено');\n      return;\n    }\n\n    this.refs.openBtn.addEventListener('click', this.openModal.bind(this));\n    this.refs.closeModalBtn.addEventListener('click', this.closeModal.bind(this));\n    this.refs.modal.addEventListener('click', this.backdropClick.bind(this));\n    document.addEventListener('keydown', this.keydownHandler.bind(this));\n    this.refs.form.addEventListener('submit', this.handleSubmit.bind(this));\n\n    // Додаємо обробники подій для динамічної валідації\n    this.refs.emailInput.addEventListener('input', this.validateEmail.bind(this));\n    this.refs.phoneInput.addEventListener('input', this.validatePhone.bind(this));\n    this.refs.commentInput.addEventListener('input', this.validateComment.bind(this));\n  },\n\n  checkElements() {\n    const requiredElements = [\n      this.refs.openBtn,\n      this.refs.closeModalBtn,\n      this.refs.modal,\n      this.refs.form,\n      this.refs.emailInput,\n      this.refs.phoneInput,\n      this.refs.emailError,\n      this.refs.phoneError,\n      this.refs.commentInput,\n      this.refs.commentError,\n    ];\n\n    return requiredElements.every(el => el !== null);\n  },\n\n  openModal() {\n    document.body.style.overflow = 'hidden';\n\n    document.body.classList.add('modal-open');\n    this.refs.modal.classList.remove('visually-hidden');\n  },\n\n  closeModal() {\n    document.body.style.overflow = '';\n    document.body.classList.remove('modal-open');\n    this.refs.modal.classList.add('visually-hidden');\n    this.refs.form.reset();\n    this.clearValidationStyles();\n  },\n\n  backdropClick(e) {\n    if (e.target === e.currentTarget) this.closeModal();\n  },\n\n  keydownHandler(e) {\n    if (e.code === 'Escape') this.closeModal();\n  },\n\n  // Валідація email\n  validateEmail() {\n    const email = this.refs.emailInput.value.trim();\n    const emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/;\n\n    if (!emailRegex.test(email)) {\n      this.markInvalid(this.refs.emailInput);\n      this.refs.emailError.textContent = 'Пошта повинна бути у форматі example@email.com';\n      this.refs.emailError.style.display = 'block';\n      return false;\n    } else {\n      this.refs.emailInput.classList.remove('invalid');\n      this.refs.emailError.textContent = '';\n      this.refs.emailError.style.display = 'none';\n      return true;\n    }\n  },\n\n  // Валідація телефону\n  validatePhone() {\n    const phone = this.refs.phoneInput.value.trim();\n    const phoneRegex = /^\\+38\\s\\(\\d{3}\\)\\s\\d{3}\\s\\d{2}\\s\\d{2}$/;\n\n    if (!phoneRegex.test(phone)) {\n      this.markInvalid(this.refs.phoneInput);\n      this.refs.phoneError.textContent = 'Телефон має бути у форматі +38 (0XX) XXX XX XX';\n      this.refs.phoneError.style.display = 'block';\n      return false;\n    } else {\n      this.refs.phoneInput.classList.remove('invalid');\n      this.refs.phoneError.textContent = '';\n      this.refs.phoneError.style.display = 'none';\n      return true;\n    }\n  },\n\n  formatPhoneNumber(phone) {\n    // Видаляємо всі нецифрові символи\n    return phone.replace(/\\D/g, '');\n  },\n\n  // Валідація коментаря\n  validateComment() {\n    const comment = this.refs.commentInput.value.trim();\n\n    if (comment && (comment.length < 5 || comment.length > 256)) {\n      this.markInvalid(this.refs.commentInput);\n      this.refs.commentError.textContent = 'Коментар має містити від 5 до 256 символів';\n      this.refs.commentError.style.display = 'block';\n      return false;\n    } else {\n      this.refs.commentInput.classList.remove('invalid');\n      this.refs.commentError.textContent = '';\n      this.refs.commentError.style.display = 'none';\n      return true;\n    }\n  },\n\n  async handleSubmit(e) {\n    e.preventDefault();\n\n    // Очистити попередні стилі помилок\n    this.clearValidationStyles();\n\n    let isValid = true;\n\n    // Виконуємо всі валідації\n    if (!this.validateEmail()) isValid = false;\n    if (!this.validatePhone()) isValid = false;\n    if (!this.validateComment()) isValid = false;\n\n    if (!isValid) {\n      iziToast.error({\n        title: 'Помилка',\n        message: 'Будь ласка, виправте помилки у формі',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    // Формуємо об'єкт замовлення\n    const orderData = {\n      email: this.refs.emailInput.value.trim(),\n      phone: this.formatPhoneNumber(this.refs.phoneInput.value.trim()), // Форматуємо телефон\n      modelId: this.modelId,\n      color: this.color,\n    };\n\n    const comment = this.refs.commentInput.value.trim();\n    if (comment) orderData.comment = comment;\n\n    // Логування для перевірки\n    console.log('Відправляємо дані:', orderData);\n\n    try {\n      const res = await fetch(API_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(orderData),\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        throw new Error(error.message || 'Не вдалося відправити заявку');\n      }\n\n      iziToast.success({\n        title: 'Успіх',\n        message: 'Ваша заявка відправлена!',\n        position: 'topRight',\n      });\n\n      this.closeModal();\n    } catch (err) {\n      console.error('Помилка при відправці:', err);\n      iziToast.error({\n        title: 'Помилка',\n        message: err.message || 'Помилка зʼєднання з сервером',\n        position: 'topRight',\n      });\n    }\n  },\n\n  markInvalid(input) {\n    input.classList.add('invalid');\n  },\n\n  clearValidationStyles() {\n    this.refs.emailInput.classList.remove('invalid');\n    this.refs.phoneInput.classList.remove('invalid');\n    this.refs.commentInput.classList.remove('invalid');\n    this.refs.emailError.textContent = '';\n    this.refs.emailError.style.display = 'none';\n    this.refs.phoneError.textContent = '';\n    this.refs.phoneError.style.display = 'none';\n    this.refs.commentError.textContent = '';\n    this.refs.commentError.style.display = 'none';\n  },\n};\n\nIMask(orderModal.refs.phoneInput, {\n  mask: '+38 (0\\\\00) 000 00 00',\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  orderModal.init();\n});\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nnew Accordion('.accordion-container', {\n});","export function showLoader() {\n  document.querySelector('.loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').classList.add('hidden');\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport Raty from 'raty-js';\nimport 'raty-js/src/raty.css';\nimport { showLoader, hideLoader } from './loader.js';\n\nconst feedbackContainer = document.querySelector('.feedback-swiper');\nconst feedbackSwiper = new Swiper(feedbackContainer, {\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n    dynamicBullets: true,\n  },\n\n  navigation: {\n    prevEl: '.swiper-button-prev',\n    nextEl: '.swiper-button-next',\n  },\n\n  slidesPerView: 1,\n  spaceBetween: 16,\n\n  breakpoints: {\n    768: {\n      slidesPerView: 2,\n      spaceBetween: 24,\n    },\n    1440: {\n      slidesPerView: 3,\n    },\n  },\n});\n\ninitFeedback();\n\nasync function initFeedback() {\n  showLoader();\n\n  try {\n    const data = await getFeedbackList();\n    createFeedbackList(data);\n    feedbackSwiper.update();\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити галерею відгуків. Спробуйте пізніше.',\n      position: 'topRight',\n    });\n\n    console.error('Error fetching feedback:', error);\n  } finally {\n    hideLoader();\n  }\n}\n\nasync function createFeedbackList(data) {\n  const markup = data\n    .map(\n      el =>\n        `\n<li class=\"feedback-swiper-slide swiper-slide\">\n  <div class=\"rating-list\" data-score=\"${el.rate}\"></div>\n  <p class=\"feedback-slide-text\">\"${el.descr}\"</p>\n  <p class=\"feedback-slide-name\">${el.name}</p>\n</li>\n`\n    )\n    .join('');\n  feedbackContainer.querySelector('.swiper-wrapper').insertAdjacentHTML('beforeend', markup);\n  document.querySelectorAll('.rating-list').forEach(item => {\n    const score = parseFloat(item.dataset.score);\n\n    const raty = new Raty(item, {\n      round: {\n        down: 0.25,\n        full: 0.75,\n        up: 0.76,\n      },\n\n      readOnly: true,\n      score: score,\n      starType: 'i',\n    });\n\n    raty.init();\n  });\n}\n\nasync function getFeedbackList() {\n  try {\n    const response = await axios.get('https://furniture-store.b.goit.study/api/feedbacks', {\n      params: {\n        page: 1,\n        limit: 10,\n      },\n    });\n\n    return response.data.feedbacks;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити відгуки. Спробуйте пізніше.',\n      position: 'topRight',\n    });\n\n    console.error('Error fetching feedbacks:', error);\n  }\n}\n","const buttons = document.querySelectorAll('button');\nconst links = document.querySelectorAll('a');\n\nconst events = [\n  'click',\n  'mousedown',\n  'mouseleave',\n  'mouseup',\n  'mouseleave',\n  'touchstart',\n  'touchmove',\n  'touchend',\n  'touchcancel',\n];\n\nevents.forEach(event => {\n  buttons.forEach(b => {\n    b.addEventListener(event, () => {\n      b.blur();\n    });\n  });\n\n  links.forEach(l => {\n    l.addEventListener(event, () => {\n      l.blur();\n    });\n  });\n});\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nclass PopularSlider {\n  constructor() {\n    this.container = document.querySelector('.popular-container');\n    this.track = document.querySelector('.popular-slider-track');\n    this.prevBtn = document.querySelector('.slider-btn-prev');\n    this.nextBtn = document.querySelector('.slider-btn-next');\n    this.dotsContainer = document.querySelector('.slider-dots');\n    this.slider = document.querySelector('.popular-slider');\n\n    this.currentIndex = 0;\n    this.itemsPerView = this.getItemsPerView();\n    this.totalItems = 0;\n    this.items = [];\n    this.isLoading = false;\n\n   \n    this.touchStartX = 0;\n    this.touchEndX = 0;\n    this.isDragging = false;\n    this.startTransform = 0;\n    this.currentTransform = 0;\n\n    this.init();\n  }\n\n  async init() {\n    if (!this.container) return;\n\n    this.bindEvents();\n    await this.loadPopularItems();\n    this.setupResponsive();\n  }\n\n  bindEvents() {\n \n    this.prevBtn?.addEventListener('click', () => this.prevSlide());\n    this.nextBtn?.addEventListener('click', () => this.nextSlide());\n\n   \n    this.slider?.addEventListener('touchstart', e => this.handleTouchStart(e), { passive: true });\n    this.slider?.addEventListener('touchmove', e => this.handleTouchMove(e), { passive: false });\n    this.slider?.addEventListener('touchend', e => this.handleTouchEnd(e), { passive: true });\n\n  \n    this.slider?.addEventListener('mousedown', e => this.handleMouseDown(e));\n    this.slider?.addEventListener('mousemove', e => this.handleMouseMove(e));\n    this.slider?.addEventListener('mouseup', e => this.handleMouseUp(e));\n    this.slider?.addEventListener('mouseleave', e => this.handleMouseUp(e));\n\n    \n    this.slider?.addEventListener('dragstart', e => e.preventDefault());\n\n   \n    document.addEventListener('keydown', e => this.handleKeyPress(e));\n\n    \n    window.addEventListener('resize', () => this.handleResize());\n  }\n\n  async loadPopularItems() {\n    if (this.isLoading) return;\n\n    this.isLoading = true;\n\n    try {\n      const response = await axios.get('https://furniture-store.b.goit.study/api/furnitures', {\n        params: {\n          limit: 12,\n          page: 1,\n        },\n      });\n\n      this.items = response.data.furnitures || [];\n      this.totalItems = this.items.length;\n\n      this.renderItems();\n      this.renderDots();\n      this.updateSlider();\n    } catch (error) {\n      console.error('Error loading popular items:', error);\n      iziToast.error({\n        title: 'Помилка',\n        message: 'Не вдалося завантажити популярні товари',\n        position: 'topRight',\n      });\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  renderItems() {\n    if (!this.track || !this.items.length) return;\n\n    \n    const clonesBefore = this.items.slice(-this.itemsPerView);\n    const clonesAfter = this.items.slice(0, this.itemsPerView);\n\n    const fullSet = [...clonesBefore, ...this.items, ...clonesAfter];\n\n    const itemsHTML = fullSet.map(item => this.createItemHTML(item)).join('');\n    this.track.innerHTML = itemsHTML;\n\n    \n    this.totalItems = fullSet.length;\n\n    \n    this.currentIndex = this.itemsPerView;\n    this.updateSlider(true);\n\n    // Bind detail buttons\n    this.track.querySelectorAll('.popular-details-btn').forEach(btn => {\n      btn.addEventListener('click', e => {\n        const itemId = e.target.dataset.id;\n        this.openItemDetails(itemId);\n      });\n    });\n  }\n\n  createItemHTML(item) {\n    const colors = item.color || [];\n    const colorsHTML = colors\n      .map(color => `<span class=\"popular-color\" style=\"background-color: ${color};\"></span>`)\n      .join('');\n\n    return `\n      <div class=\"popular-item\">\n        <img class=\"popular-item-img\" src=\"${item.images?.[0] || ''}\" alt=\"${\n      item.name || ''\n    }\" loading=\"lazy\">\n        <h3 class=\"popular-item-name\">${item.name || ''}</h3>\n        <div class=\"popular-item-colors\">${colorsHTML}</div>\n        <p class=\"popular-item-price\">${item.price || 0} грн</p>\n        <button class=\"popular-details-btn\" data-id=\"${item._id}\">Детальніше</button>\n      </div>\n    `;\n  }\n\n  renderDots() {\n    if (!this.dotsContainer) return;\n\n    const totalSlides = Math.ceil(this.items.length / this.itemsPerView);\n    const dotsHTML = Array.from(\n      { length: totalSlides },\n      (_, index) =>\n        `<button class=\"slider-dot ${index === 0 ? 'active' : ''}\" data-slide=\"${index}\"></button>`\n    ).join('');\n\n    this.dotsContainer.innerHTML = dotsHTML;\n\n    this.dotsContainer.querySelectorAll('.slider-dot').forEach(dot => {\n      dot.addEventListener('click', e => {\n        const slideIndex = parseInt(e.target.dataset.slide);\n        this.currentIndex = slideIndex + this.itemsPerView;\n        this.updateSlider();\n      });\n    });\n  }\n\n  getItemsPerView() {\n    const width = window.innerWidth;\n    if (width >= 1440) return 4;\n    if (width >= 768) return 2;\n    return 1;\n  }\n\n  updateSlider(instant = false) {\n    if (!this.track) return;\n\n    const slideWidth = 100 / this.itemsPerView;\n    const translateX = -this.currentIndex * slideWidth;\n\n    if (instant) {\n      this.track.style.transition = 'none';\n    } else {\n      this.track.style.transition = 'transform 0.3s ease';\n    }\n\n    this.track.style.transform = `translateX(${translateX}%)`;\n    this.currentTransform = translateX;\n\n    this.updateDots();\n  }\n\n  updateButtons() {\n    if (!this.prevBtn || !this.nextBtn) return;\n\n    const maxIndex = Math.max(0, Math.ceil(this.totalItems / this.itemsPerView) - 1);\n\n    this.prevBtn.disabled = this.currentIndex <= 0;\n    this.nextBtn.disabled = this.currentIndex >= maxIndex;\n  }\n\n  updateDots() {\n    if (!this.dotsContainer) return;\n\n    const realSlideCount = Math.ceil(this.items.length / this.itemsPerView);\n\n    \n    let realIndex = (this.currentIndex - this.itemsPerView) % realSlideCount;\n    if (realIndex < 0) realIndex += realSlideCount;\n\n    this.dotsContainer.querySelectorAll('.slider-dot').forEach((dot, index) => {\n      dot.classList.toggle('active', index === realIndex);\n    });\n  }\n\n  nextSlide() {\n    this.currentIndex++;\n    this.updateSlider();\n\n    if (this.currentIndex >= this.totalItems - this.itemsPerView) {\n      setTimeout(() => {\n        this.currentIndex = this.itemsPerView; \n      }, 300);\n    }\n  }\n\n  prevSlide() {\n    this.currentIndex--;\n    this.updateSlider();\n\n    if (this.currentIndex < this.itemsPerView) {\n      setTimeout(() => {\n        this.currentIndex = this.totalItems - this.itemsPerView * 2; \n        this.updateSlider(true);\n      }, 300);\n    }\n  }\n\n  prevSlide() {\n    if (this.currentIndex > 0) {\n      this.currentIndex--;\n      this.updateSlider();\n    }\n  }\n\n  goToSlide(index) {\n    const maxIndex = Math.max(0, Math.ceil(this.totalItems / this.itemsPerView) - 1);\n    this.currentIndex = Math.max(0, Math.min(index, maxIndex));\n    this.updateSlider();\n  }\n\n  \n  handleTouchStart(e) {\n    this.touchStartX = e.touches[0].clientX;\n    this.isDragging = true;\n    this.startTransform = this.currentTransform;\n    this.track?.classList.add('swiping');\n  }\n\n  handleTouchMove(e) {\n    if (!this.isDragging) return;\n\n    e.preventDefault();\n    this.touchEndX = e.touches[0].clientX;\n    const diff = this.touchStartX - this.touchEndX;\n    const percentage = (diff / this.slider.offsetWidth) * 100;\n\n    const newTransform = this.startTransform - percentage;\n    this.track.style.transform = `translateX(${newTransform}%)`;\n  }\n\n  handleTouchEnd(e) {\n    if (!this.isDragging) return;\n\n    this.isDragging = false;\n    this.track?.classList.remove('swiping');\n\n    const diffX = this.touchStartX - this.touchEndX;\n    const threshold = 50; \n\n    if (Math.abs(diffX) > threshold) {\n      if (diffX > 0) {\n        this.nextSlide();\n      } else {\n        this.prevSlide();\n      }\n    } else {\n      this.updateSlider();\n    }\n  }\n\n \n  handleMouseDown(e) {\n    e.preventDefault();\n    this.touchStartX = e.clientX;\n    this.isDragging = true;\n    this.startTransform = this.currentTransform;\n    this.track?.classList.add('swiping');\n    this.slider.style.cursor = 'grabbing';\n  }\n\n  handleMouseMove(e) {\n    if (!this.isDragging) return;\n\n    e.preventDefault();\n    this.touchEndX = e.clientX;\n    const diff = this.touchStartX - this.touchEndX;\n    const percentage = (diff / this.slider.offsetWidth) * 100;\n\n    const newTransform = this.startTransform - percentage;\n    this.track.style.transform = `translateX(${newTransform}%)`;\n  }\n\n  handleMouseUp(e) {\n    if (!this.isDragging) return;\n\n    this.isDragging = false;\n    this.track?.classList.remove('swiping');\n    this.slider.style.cursor = 'grab';\n\n    const diffX = this.touchStartX - this.touchEndX;\n    const threshold = 50;\n\n    if (Math.abs(diffX) > threshold) {\n      if (diffX > 0) {\n        this.nextSlide();\n      } else {\n        this.prevSlide();\n      }\n    } else {\n      this.updateSlider();\n    }\n  }\n\n  handleKeyPress(e) {\n    if (e.key === 'ArrowLeft') {\n      e.preventDefault();\n      this.prevSlide();\n    } else if (e.key === 'ArrowRight') {\n      e.preventDefault();\n      this.nextSlide();\n    }\n  }\n\n  handleResize() {\n    const newItemsPerView = this.getItemsPerView();\n    if (newItemsPerView !== this.itemsPerView) {\n      this.itemsPerView = newItemsPerView;\n      this.currentIndex = 0; \n      this.renderDots();\n      this.updateSlider();\n    }\n  }\n\n  setupResponsive() {\n   \n    if (this.slider) {\n      this.slider.style.cursor = 'grab';\n    }\n  }\n\n  openItemDetails(itemId) {\n    \n    console.log('Opening details for item:', itemId);\n\n    \n    const existingModalBtn = document.querySelector(`#${itemId}`);\n    if (existingModalBtn) {\n      existingModalBtn.click();\n      return;\n    }\n\n    \n    const detailEvent = new CustomEvent('showFurnitureDetails', {\n      detail: { id: itemId },\n    });\n    document.dispatchEvent(detailEvent);\n\n    \n    this.showItemInfo(itemId);\n  }\n\n  async showItemInfo(itemId) {\n    try {\n      const response = await axios.get(\n        `https://furniture-store.b.goit.study/api/furnitures/${itemId}`\n      );\n      const item = response.data;\n\n      alert(\n        `${item.name}\\nPrice: ${item.price} грн\\nDescription: ${\n          item.description || 'No description available'\n        }`\n      );\n    } catch (error) {\n      console.error('Error fetching item details:', error);\n      iziToast.error({\n        title: 'Помилка',\n        message: 'Не вдалося завантажити деталі товару',\n        position: 'topRight',\n      });\n    }\n  }\n}\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new PopularSlider();\n});\n\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    new PopularSlider();\n  });\n} else {\n  new PopularSlider();\n}\n"],"names":["menu","openBtn","closeBtn","links","body","autoSprite","SPRITE","ICON_CLOSED","ICON_OPEN","setBtnIcon","id","use","url","open","close","e","w","clickInsideMenu","clickOnToggle","templateCat","template2","getCategoriesByQuery","query","page","perPage","axios","getFurnitures","categoryId","limit","params","createCategories","categories","updatedCategories","counter","markup","item","temp","setBorder","fetchCategories","data","iziToast","showLoader","loader","hideLoader","showLoadMoreButton","loadMore","hideLoadMoreButton","showLoadNoButton","loadNo","hideLoadNoButton","fetchFurnitures","insert","createFurnitureCards","furnitures","markup2","colorHtml","color","currentItem","currentCategoryId","currentPage","remainingItems","furnitureCategories","event","show","API_URL","orderModal","el","email","phone","comment","isValid","orderData","res","error","err","input","IMask","Accordion","feedbackContainer","feedbackSwiper","Swiper","initFeedback","getFeedbackList","createFeedbackList","score","Raty","buttons","events","b","l","PopularSlider","response","clonesBefore","clonesAfter","fullSet","itemsHTML","btn","itemId","colorsHTML","totalSlides","dotsHTML","_","index","dot","slideIndex","width","instant","slideWidth","translateX","maxIndex","realSlideCount","realIndex","percentage","newTransform","diffX","newItemsPerView","existingModalBtn","detailEvent"],"mappings":"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"}